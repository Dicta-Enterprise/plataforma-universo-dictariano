<!-- src/app/shared/components/card-curso/card-curso.component.html -->
<p-card
  class="card-curso"
  styleClass="bg-transparent"
>
  <div class="
    card-inner
    relative
    flex flex-col h-full min-h-[550px] /* altura */
    py-6
    hover:shadow-[0_10px_20px_-6px_var(--dynamic-hover-color)]
    animate-fade-in-out
  "
  [style]="{
    background: 'linear-gradient(to bottom, #141e30, '+bg_color+')',
    color: '#fff',
    borderRadius: '20px',
    border: '1px solid #3b3b5f'
  }"
  [style.--dynamic-hover-color]="primary_color"
  >
    <div class="card-image absolute w-full h-full top-0 left-0">
    <img
      [src]="curso.imagen.startsWith('https')?curso.imagen:'/assets/loaders/bottle-loader.gif'"
      alt="Curso banner"
      style="width: 100%; height: 100%; object-fit: cover; display: block;"
    />
    <h2 class="absolute bottom-10 left-4 card-curso-titulo text-xl font-bold m-2" [style.color]="primary_color">{{curso.nombre}}</h2>
  </div>
  <div class="card-content absolute w-full h-full top-0 left-0 py-4">
    <ng-template pTemplate="header">
    <img
      [src]="curso.imagen"
      alt="Curso"
      style="width: 200px; height: 200px; object-fit: cover; border-radius: 50%; margin-left: 20px; ; display: block; box-shadow: 0 15px 10px -10px #3b434b;"
    />
  </ng-template>

  <!-- Contenedor principal que crece y empuja el footer abajo -->
  <div class="
      sm:h-72
      h-50
      flex flex-col
      px-4 pt-2
      
    "
  >
    <h2 class="card-curso-titulo text-xl font-bold text-center mb-2" [style.color]="primary_color">
      {{ curso.nombre }}
    </h2>
    <p class="text-sm text-justify mb-3 text-white">
      {{ curso.descripcion }}
    </p>
    <ul *ngFor="let benef of curso.beneficios; index as i;" class="text-sm list-disc pl-6 text-white">
      <li >{{ benef.titulo }}: {{benef.descripcion}}</li>
    </ul>
  </div>

  <ng-template pTemplate="footer">
    <!-- mt-auto empuja siempre al fondo -->
    <div class="mt-auto flex sm:flex-row flex-col justify-center sm:p-0 pt-0 gap-3">
      <p-button
      class="card-curso-card-button"
  label="Empezar  Curso"
  (onClick)="irADetalle()"
  styleClass="
    p-button-rounded
    
    text-white font-bold
    sm:py-2 py-3 px-4
    w-full max-w-xs
    text-lg
    rounded-[5rem]

    transition duration-200
    hover:transition hover:duration-500
    hover:ease-in-out
    hover:brightness-80
    shadow-[0_.3rem_0_0_rgb(22,22,22)]
    hover:shadow-[0_0_0_0_rgb(22,22,22)]
  "
  [style.--dynamic-hover-color]="primary_color"
  [style.--dynamic-hover-color-sec]="secondary_color"
></p-button>
       
          <button
          class="card-curso-button-carrito relative mt-0 flex items-center justify-center gap-2 
          bg-[var(--dynamic-secondary-color)] hover:bg-[var(--dynamic-primary-color)] text-white 
          px-6 sm:py-0 py-3
          text-lg
          font-bold
          rounded-[5rem]
          transition duration-200
          hover:transition hover:duration-500
          hover:ease-in-out
          hover:brightness-80
          shadow-[0_.3rem_0_0_rgb(22,22,22)]
          hover:shadow-[0_0_0_0_rgb(22,22,22)]
          hover:bg-position-30
          "
          (click)="agregarAlCarrito()"
          [style.--dynamic-secondary-color]="secondary_color"
          [style.--dynamic-primary-color]="primary_color"
        >
        <p-badge *ngIf="getCursoCarrito()>0" [value]="getCursoCarrito().toString()" badgeSize="small" 
        class="absolute -top-2 right-0"
        ></p-badge>
          <i class="pi pi-shopping-cart text-2xl"></i>
        
        </button>
    </div>
  </ng-template>
  </div>
  </div>
</p-card>
