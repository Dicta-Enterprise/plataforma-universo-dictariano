<!-- src/app/shared/components/card-curso/card-curso.component.html -->
<div
  class="card-curso bg-transparent my-5"
  [class] = "isPhone?'card-curso-phone':''"
>
  <div class="
    card-inner
    relative
    flex flex-col h-full min-h-[500px] /* altura */
    py-6
    hover:shadow-[0_10px_20px_-6px_var(--dynamic-hover-color)]
    animate-fade-in-out
  "
  [style]="{
    background: 'linear-gradient(to bottom, #141e30, '+bg_color+')',
    color: '#fff',
    borderRadius: '20px',
    border: '1px solid #3b3b5f'
  }"
  [style.--dynamic-hover-color]="primary_color"
  >
    <div class="card-image absolute w-full h-full top-0 left-0 flex flex-row justify-center items-center">
    <img
      [src]="curso.imagen.startsWith('https')?curso.imagen:'/assets/loaders/bottle-loader.gif'"
      alt="Curso banner"
      style="width: 100%; height: 100%; object-fit: cover; display: block;"
    />
    <h2 class="absolute bottom-10 left-4 card-curso-titulo text-xl font-bold m-2" [style.color]="primary_color">{{curso.nombre}}</h2>
  </div>
  <div class="card-content absolute w-full h-full top-0 left-0 ml-0 mt-0 grid grid-rows-[4fr_1fr] grid-cols-1 p-5 gap-4">
    

  <!-- Contenedor principal que crece y empuja el footer abajo -->
  <div class="
      flex flex-col
      px-2 pt-0
      
    "
  >
    <h2 class="card-curso-titulo text-xl font-bold text-center mb-2" [style.color]="primary_color">
      {{ curso.nombre }}
    </h2>
    <p class="text-sm text-justify mb-3 text-white">
      {{ curso.descripcion }}
    </p>
    <ul *ngFor="let benef of curso.beneficios; index as i;" class="text-sm list-disc pl-4 text-white">
      <li >{{ benef.titulo }}: {{benef.descripcion}}</li>
    </ul>
  </div>

  <div class="w-full ">
    <!-- mt-auto empuja siempre al fondo -->
    <div class="w-full flex sm:flex-row flex-col justify-center sm:p-0 pt-0 gap-3 z-10">
      <p-button
      class="card-curso-card-button p-button-rounded
        text-white font-bold text-center cursor-pointer
        sm:py-2 py-3 px-4
        w-full max-w-xs
        text-lg
        rounded-[5rem]

        transition duration-200
        hover:transition hover:duration-500
        hover:ease-in-out
        hover:brightness-80
        shadow-[0_.3rem_0_0_rgb(22,22,22)]
        hover:shadow-[0_0_0_0_rgb(22,22,22)]"
      (onClick)="irADetalle()"
      [style.--dynamic-hover-color]="primary_color"
      [style.--dynamic-hover-color-sec]="secondary_color"
    >Empezar Curso</p-button>
       
          <button
          class="card-curso-button-carrito relative mt-0 flex items-center justify-center gap-2 
          bg-[var(--dynamic-secondary-color)] hover:bg-[var(--dynamic-primary-color)] text-white 
          px-6 sm:py-0 py-3
          text-lg
          font-bold
          rounded-[5rem]
          transition duration-200
          hover:transition hover:duration-500
          hover:ease-in-out
          hover:brightness-80
          shadow-[0_.3rem_0_0_rgb(22,22,22)]
          hover:shadow-[0_0_0_0_rgb(22,22,22)]
          hover:bg-position-30
          "
          (click)="agregarAlCarrito()"
          [style.--dynamic-secondary-color]="secondary_color"
          [style.--dynamic-primary-color]="primary_color"
        >
        <p-badge *ngIf="getCursoCarrito()>0" [value]="getCursoCarrito().toString()" badgeSize="small" 
        class="absolute -top-2 right-0"
        ></p-badge>
          <i class="pi pi-shopping-cart text-2xl"></i>
        
        </button>
    </div>
  </div>
</div>
  </div>
</div>
